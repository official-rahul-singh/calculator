<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="assets/bootstrap.css">
    <link rel="stylesheet" href="assets/minstyle.css">

        <!-- my css -->
        <link rel="stylesheet" href="style.css">

</head>

<body class="page-template-default page page-id-440 wp-custom-logo">
    <header id="header" class="header fixed-top">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light py-lg-0 h-100 align-items-lg-stretch">
                <div class="logo">
                    <a href="http://localhost/probabs/" class="custom-logo-link" rel="home"><img width="250" height="40"
                            src="http://localhost/probabs/wp-content/uploads/2022/04/logo.png" class="custom-logo"
                            alt="accountiod-logo" decoding="async"></a>
                </div>
                <div class="order-lg-last d-flex align-items-center">
                    <button class="navbar-toggler me-3" type="button" data-bs-toggle="collapse"
                        data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <svg width="18" height="18" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                            <path d="M2.5 13.333h15V15h-15v-1.667Zm0-4.167h15v1.667h-15V9.166Zm0-4.167h15v1.667h-15V5Z"
                                fill-rule="evenodd"></path>
                        </svg>
                    </button>
                    <button id="nav-search-toggle" class="search-btn d-lg-none">
                        <svg viewBox="0 0 512 512" class="searchIcon" fill="#fff">
                            <path
                                d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z">
                            </path>
                        </svg>
                    </button>
                    <div class="search-form">
                        <form action="http://localhost/probabs">
                            <input type="search" id="search" class="form-control" placeholder="Search Here..." value=""
                                name="s" title="Search for:" required="">
                            <button type="submit" class="search-btn">
                                <svg viewBox="0 0 512 512" class="searchIcon" fill="#fff">
                                    <path
                                        d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z">
                                    </path>
                                </svg>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul id="menu-main-menu" class="navbar-nav mb-md-2 mb-lg-0 navbar-light">
                        <li id="menu-item-445"
                            class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-440 current_page_item menu-item-445">
                            <a href="http://localhost/probabs/about-us/" aria-current="page" class="nav-link">About
                                Us</a></li>
                        <li id="menu-item-832"
                            class="menu-item menu-item-type-custom menu-item-object-custom menu-item-832"><a href="#"
                                class="nav-link">Service</a></li>
                        <li id="menu-item-5257"
                            class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5257"><a
                                href="http://localhost/probabs/category/banking/" class="nav-link">Banking</a></li>
                        <li id="menu-item-5265"
                            class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-5265"><a
                                href="http://localhost/probabs/category/cryptocurrency/"
                                class="nav-link">Cryptocurrency</a></li>
                    </ul>
                </div>
            </nav>
        </div>
    </header>

        <div class="container my-md-5 money-cal">
          <div class="row">
            <div class="col-1"></div>
            <div class="col-lg-10">
                <div class="credit-card-body personal-calc">
                    
                        <div class="row">
                            <div class="col-md-6 pt-1 personal-cal">
                                <div class="card-b-head">
                                    <div class="ch">
                                        <div class="card-h">Personal Loan Calculator</div>
                                        <div class="small-line mt-3"></div>
                                        <div class="big-line mt-2 mb-4"></div>
                                    </div>
                                </div>
            
                                <p>Calculate your monthly EMI amount with our personal loan calculator.</p>
                                <div id="loan_list">
                                    <div class="mb-3">
                                        <div class="detail">
                                            <p class="m-0">Loan amount</p>
                                            <div class="cal-field">
                                                <span class="cal-field-dollar">$</span>
                                                <input class="fw-bold form-control" max="5000000" min="-Infinity" type="number" id="LOAN_AMOUNT" placeholder="0" value="500000">
                                            </div>
                                        </div>
                                        <input type="range" id="loan-amount" min="50000" max="5000000" value="500000" class="styled-slider slider-progress" style="width: 100%; --value: 500000; --min: 50000; --max: 5000000;">
                                    </div>
                                    <div class="mb-3">
                                        <div class="detail">
                                            <p class="m-0">Rate of interest (p.a)</p>
                                            <div class="cal-field">
                                                <input class="fw-bold form-control ps-md-3" max="30" min="-Infinity" type="number" id="RATE_OF_INTEREST" placeholder="0" value="6.5"><span class="cal-field-percent">%</span>
                                            </div>
                                        </div>
                                        <input type="range" id="interest-rate" min="1" max="30" step="0.1" value="6.5" class="styled-slider slider-progress" style="width: 100%; --value: 6.5; --min: 1; --max: 30;">
                                    </div>
                                    <div class="mb-3">
                                        <div class="detail">
                                            <p class="m-0">Loan tenure</p>
                                            <div class="cal-field">
                                                <input class="fw-bold form-control ps-md-3" max="30" min="-Infinity" type="number" id="LOAN_TENURE" placeholder="0" value="5"><span class="cal-field-percent">Yr</span>
                                            </div>
                                        </div>
                                        <input type="range" id="loan-period" min="1" max="30" step="1" value="5" class="styled-slider slider-progress" style="width: 100%; --value: 5; --min: 1; --max: 30;">
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 mt-md-0 mt-4">
                              <div class="chart-container" style="
                    position: relative;
                    height: 150px;
                    width: 100%;
                    margin-bottom: 20px;
                  "><div class="chartjs-size-monitor" style="position: absolute; inset: 0px; overflow: hidden; pointer-events: none; visibility: hidden; z-index: -1;"><div class="chartjs-size-monitor-expand" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:1000000px;height:1000000px;left:0;top:0"></div></div><div class="chartjs-size-monitor-shrink" style="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div></div>
                                <canvas id="doughnut" style="display: block; width: 496px; height: 150px;" width="496" height="150" class="chartjs-render-monitor"></canvas>
                            </div>
                                <div class="credit-card-form">
                                    <table class="table mb-0">
                                        <tbody>
                                            <tr>
                                                <td colspan="1" rowspan="1" class="tb-cell">
                                                    Monthly EMI
                                                </td>
                                                <td colspan="1" rowspan="1" class="fw-bold text-end">
                                                    $<span id="monthly-emi">9,783</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="1" rowspan="1" class="tb-cell">
                                                    Principal amount
                                                </td>
                                                <td colspan="1" rowspan="1" class="fw-bold text-end">
                                                    $<span id="principal-amount">5,00,000</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="1" rowspan="1" class="tb-cell">
                                                    Total interest
                                                </td>
                                                <td colspan="1" rowspan="1" class="fw-bold text-end">
                                                    $<span id="total-interest">86,984</span>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td colspan="1" rowspan="1" class="tb-cell">
                                                    Total amount
                                                </td>
                                                <td colspan="1" rowspan="1" class="fw-bold text-end">
                                                    $<span id="total-amount">5,86,984</span>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>        
 
                </div>
            </div>
            <div class="col-1"></div>
          </div>
        </div>

    <footer class="mt60 pt30">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="footer-left_top">
                        <div class="logo">
                            <a href="http://localhost/probabs">Accountiod</a>
                        </div>

                        <div class="social-container">
                            <span>
                                Follow Probabs on Social Media
                            </span>

                        </div>
                    </div>

                    <div class="foot-menu d1 mt-4">
                        <div class="heading-md mb-3">
                            Trending Categories
                        </div>
                        <ul class="menu">
                            <li class="page_item page-item-440 current_page_item"><a
                                    href="http://localhost/probabs/about-us/" aria-current="page">About Us</a></li>
                            <li class="page_item page-item-825"><a
                                    href="http://localhost/probabs/accounting-outsourcing-services/">Best Outsourced
                                    Accounting and Bookkeeping Services For a Substantial Financial Growth</a></li>
                            <li class="page_item page-item-917"><a href="http://localhost/probabs/contact-us/">Contact
                                    Us</a></li>
                            <li class="page_item page-item-7293"><a
                                    href="http://localhost/probabs/credit-card-calculator/">Credit Card Calculator</a>
                            </li>
                            <li class="page_item page-item-7233"><a
                                    href="http://localhost/probabs/currency-converter/">Currency Converter</a></li>
                            <li class="page_item page-item-5236"><a
                                    href="http://localhost/probabs/investment-calculator/">Investment Calculator</a>
                            </li>
                            <li class="page_item page-item-7231"><a
                                    href="http://localhost/probabs/personal-loan-calculator/">Personal Loan
                                    Calculator</a></li>
                            <li class="page_item page-item-579"><a
                                    href="http://localhost/probabs/privacy-policy/">Privacy Policy</a></li>
                            <li class="page_item page-item-7229"><a
                                    href="http://localhost/probabs/student-loan-calculator/">Student Loan Calculator</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-lg-4 mt-lg-0 mt-3">
                    <div class="footer-right">
                        <div class="foot-menu d2">
                            <div class="heading-md mb-3">
                                About Probabs
                            </div>
                            <ul class="menu">
                                <li class="page_item page-item-440 current_page_item"><a
                                        href="http://localhost/probabs/about-us/" aria-current="page">About Us</a></li>
                                <li class="page_item page-item-825"><a
                                        href="http://localhost/probabs/accounting-outsourcing-services/">Best Outsourced
                                        Accounting and Bookkeeping Services For a Substantial Financial Growth</a></li>
                                <li class="page_item page-item-917"><a
                                        href="http://localhost/probabs/contact-us/">Contact Us</a></li>
                                <li class="page_item page-item-7293"><a
                                        href="http://localhost/probabs/credit-card-calculator/">Credit Card
                                        Calculator</a></li>
                                <li class="page_item page-item-7233"><a
                                        href="http://localhost/probabs/currency-converter/">Currency Converter</a></li>
                                <li class="page_item page-item-5236"><a
                                        href="http://localhost/probabs/investment-calculator/">Investment Calculator</a>
                                </li>
                                <li class="page_item page-item-7231"><a
                                        href="http://localhost/probabs/personal-loan-calculator/">Personal Loan
                                        Calculator</a></li>
                                <li class="page_item page-item-579"><a
                                        href="http://localhost/probabs/privacy-policy/">Privacy Policy</a></li>
                                <li class="page_item page-item-7229"><a
                                        href="http://localhost/probabs/student-loan-calculator/">Student Loan
                                        Calculator</a></li>
                            </ul>
                        </div>
                        <div class="emailat">
                            <div> Email Us </div>
                            <a href="mailto:info@probabs.com" class="mail-i">
                                <spna class="mail-icon">
                                    <svg width="20" height="20" viewBox="0 0 12.8 12.8"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M1.6 3.2q0-.375.225-.575.2-.225.575-.225h8q.375 0 .6.225.2.2.2.575v.4L6.4 6.8 1.6 3.6v-.4Zm4.8 5L11.2 5v4.6q0 .8-.8.8h-8q-.8 0-.8-.8V5l4.8 3.2Z"
                                            fill="#fff"></path>
                                    </svg>
                                </spna>
                                <span>
                                    info@probabs.com
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-12 mt-4">
                </div>
            </div>
        </div>
        <div class="copyright">
            <p class="mb-0">
                © 2024 probabs.com All rights reserved
            </p>
        </div>
    </footer>
    <button class="scroll-top d-flex align-items-center justify-content-center">
        <svg width="20" height="20" viewBox="0 0 0.5 0.5" xmlns="http://www.w3.org/2000/svg">
            <path
                d="M.275.425v-.29l.082.082A.025.025 0 1 0 .392.182L.267.057a.025.025 0 0 0-.035 0L.107.182a.025.025 0 0 0 0 .035.025.025 0 0 0 .035 0L.225.135v.29a.025.025 0 1 0 .05 0z"
                fill="#fff"></path>
        </svg>
    </button>
    <script src="assets/bootstrap.js"></script>
    <script src="assets/script.js"></script>
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.js"></script>

        <script>
            for (let e of document.querySelectorAll('input[type="range"].slider-progress')) {
                    e.style.setProperty('--value', e.value);
                    e.style.setProperty('--min', e.min == '' ? '0' : e.min);
                    e.style.setProperty('--max', e.max == '' ? '100' : e.max);
                    e.addEventListener('input', () => e.style.setProperty('--value', e.value));
                }
            // ====== Personal loan scripts start ====== //
            const personal_calc = document.querySelector('.personal-calc');
    
            if (personal_calc) {
                // --------- Start sync range & inputs --------- //
                const synchronizeFields = (perInputField, perRangeInput) => {
                    perInputField.addEventListener('input', function () {
                        if (this.value === 0 || this.value === '') {
                            perRangeInput.value = 0;
                        } else {
                            perRangeInput.value = this.value
                        }
                    });
    
                    perRangeInput.addEventListener('input', function () {
                        perInputField.value = this.value;
    
                        // Trigger calculation when range values change
                        calculatePersonalLoanEMI();
                    });
                };
    
                const perLoanAmountInput = document.querySelector('#LOAN_AMOUNT');
                const perLoanAmountRange = document.querySelector('#loan-amount');
                synchronizeFields(perLoanAmountInput, perLoanAmountRange);
    
                const perInterestRateInput = document.querySelector('#RATE_OF_INTEREST');
                const perInterestRateRange = document.querySelector('#interest-rate');
                synchronizeFields(perInterestRateInput, perInterestRateRange);
    
                const perLoanTenureInput = document.querySelector('#LOAN_TENURE');
                const perLoanTenureRange = document.querySelector('#loan-period');
                synchronizeFields(perLoanTenureInput, perLoanTenureRange);
                // --------- End sync range & inputs --------- //
    
                // --------- Start to update the loan details in the HTML table --------- //
                const updatePerLoanDetails = (perEMI, perPrincipal, perTotalInterest, perTotalAmount) => {
                    document.getElementById('monthly-emi').textContent = perEMI.toLocaleString('en-IN');
                    document.getElementById('principal-amount').textContent = perPrincipal.toLocaleString('en-IN');
                    document.getElementById('total-interest').textContent = perTotalInterest.toLocaleString('en-IN');
                    document.getElementById('total-amount').textContent = perTotalAmount.toLocaleString('en-IN');
                };
                // --------- End to update the loan details in the HTML table --------- //
    
                // --------- Start handling doughnut chart --------- //
                const perChartElement = document.getElementById('doughnut').getContext('2d');
    
                // Create a chart
                const perChartData = {
                    labels: ['Principal Amount', 'Total Interest'],
                    datasets: [
                        {
                            data: [50000, 4186],
                            backgroundColor: ['#3498db', '#e74c3c'],
                        },
                    ],
                };
    
                const perChartConfig = {
                    type: 'doughnut',
                    data: perChartData,
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        animation: {
                            animateRotate: false,
                        },
                        rotation: 1 * Math.PI,
                        circumference: 1 * Math.PI,
                        legend: {
                            display: false,
                        },
                        cutoutPercentage: 60,
                    },
                };
    
                var personalChart = new Chart(perChartElement, perChartConfig);
                const updatePerDoughnut = (perPrincipalAmount, perTotalInterest) => {
    
                    perPrincipalAmount = parseInt(perPrincipalAmount.replace(/,/g, ""), 10);
                    perTotalInterest = parseInt(perTotalInterest.replace(/,/g, ""), 10);
    
                    // Update the chart data
                    personalChart.data.datasets[0].data[0] = perPrincipalAmount;
                    personalChart.data.datasets[0].data[1] = perTotalInterest;
    
                    // Update the chart
                    personalChart.update();
                };
                // --------- End handling doughnut chart --------- //
    
                // --------- Start validation logic --------- //
                const validatePerInput = (perInputField, perMinValue, perErrorColor) => {
                    if (perInputField.value === '' || parseFloat(perInputField.value) < perMinValue) {
                        perInputField.style.webkitTextFillColor = perErrorColor;
                        perInputField.style.caretColor = perErrorColor;
                        perInputField.parentNode.style.color = perErrorColor;
                        perInputField.parentNode.style.backgroundColor = '#fc0200';
                        return false;
                    } else {
                        perInputField.style.webkitTextFillColor = '#000';
                        perInputField.style.caretColor = '#000';
                        perInputField.parentNode.style.color = '#000';
                        perInputField.parentNode.style.backgroundColor = '#fff';
                        return true;
                    }
                };
                // --------- End validation logic --------- //
    
                // --------- Start loan calculation --------- //
                const calculatePersonalLoanEMI = () => {
                    var perLoanAmount = parseFloat(document.getElementById('LOAN_AMOUNT').value);
                    var perInterestRate = parseFloat(document.getElementById('RATE_OF_INTEREST').value) / 100;
                    var perLoanTenure = parseFloat(document.getElementById('LOAN_TENURE').value) * 12;
    
                    if (isNaN(perLoanAmount) || perLoanAmount === '' || perLoanAmount < 50000) {
                        perLoanAmount = 50000;
                    }
    
                    if (isNaN(perInterestRate) || perInterestRate === '' || perInterestRate === 0) {
                        perInterestRate = 1;
                    }
    
                    if (isNaN(perLoanTenure) || perLoanTenure === '' || perLoanTenure === 0) {
                        perLoanTenure = 12;
                    }
    
                    const monthlyPerInterestRate = perInterestRate / 12;
                    const perNumerator = perLoanAmount * monthlyPerInterestRate * Math.pow((1 + monthlyPerInterestRate), perLoanTenure);
                    const perDenominator = Math.pow((1 + monthlyPerInterestRate), perLoanTenure) - 1;
    
                    var perLoanEMI = perNumerator / perDenominator;
                    perLoanEMI = Math.round(perLoanEMI);
    
                    const perPrincipalAmount = perLoanAmount.toLocaleString('en-IN');
                    const perTotalInterest = (perLoanEMI * perLoanTenure - perLoanAmount).toLocaleString('en-IN');
                    const perTotalAmount = (perLoanEMI * perLoanTenure).toLocaleString('en-IN');
    
                    updatePerLoanDetails(perLoanEMI, perPrincipalAmount, perTotalInterest, perTotalAmount);
    
                    updatePerDoughnut(perPrincipalAmount, perTotalInterest);
                };
                // --------- End loan calculation --------- //
    
                // --------- Start to add event listener to fields --------- //
                const perInputFields = document.querySelectorAll('input');
                perInputFields.forEach((field) => {
                    field.addEventListener('copy', (event) => {
                        event.preventDefault();
                    });
    
                    field.addEventListener('paste', (event) => {
                        event.preventDefault();
                    });
    
                    if (field.id === 'LOAN_AMOUNT' || field.id === 'LOAN_TENURE' || field.id === 'RATE_OF_INTEREST') {
                        field.addEventListener('keydown', (event) => {
                            const keyCode = event.which;
                            const isDecimalPoint = keyCode === 110 || keyCode === 190;
                            const isMinusSign = keyCode === 109 || keyCode === 189;
                            const isPlusSign = keyCode === 107 || keyCode === 187;
                            const isEKey = keyCode === 69;
                            const isArrowUp = keyCode === 38;
                            const isArrowDown = keyCode === 40;
    
                            if (isMinusSign || isPlusSign || isEKey || isArrowUp || isArrowDown) {
                                event.preventDefault();
                            }
    
                            if (field.id === 'LOAN_AMOUNT' || field.id === 'LOAN_TENURE') {
                                if (isDecimalPoint) {
                                    event.preventDefault();
                                }
                            }
                        });
                    }
    
                    field.addEventListener('input', (event) => {
                        if (field.id === 'RATE_OF_INTEREST' || field.id === 'LOAN_TENURE') {
                            var perValidated = validatePerInput(field, 1, '#eb4739ab');
                        } else if (field.id === 'LOAN_AMOUNT') {
                            var perValidated = validatePerInput(field, 50000, '#eb4739ab');
                        }
    
    
                        if (perLoanAmountInput.value >= 10000000) {
                            perLoanAmountInput.value = 10000000;
                        }
    
                        if (perInterestRateInput.value >= 30) {
                            perInterestRateInput.value = 30;
                        }
    
                        if (perLoanTenureInput.value >= 30) {
                            perLoanTenureInput.value = 30;
                        }
    
                        if (perLoanAmountInput.value < 50000 || perLoanAmountInput.value.length === 0) {
                            return;
                        }
    
                        if (perInterestRateInput.value < 1 || perInterestRateInput.value.length === 0) {
                            return;
                        }
    
                        if (perLoanTenureInput.value < 1 || perLoanTenureInput.value.length === 0) {
                            return;
                        }
    
                        if (perValidated) {
                            calculatePersonalLoanEMI();
                        }
                    });
                });
                // --------- End to add event listener to fields --------- //
    
                // --------- Start to add event listener to DOM --------- //
                document.addEventListener('DOMContentLoaded', calculatePersonalLoanEMI);
                // --------- End to add event listener to DOM --------- //
            }
      // ====== Personal loan scripts end ====== //
        </script>
</body>

</html>